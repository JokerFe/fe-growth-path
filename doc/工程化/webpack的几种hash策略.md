# Webpack的几种hash策略

### hash

每个文件都具有相同的哈希值，因为它的hash是根据我们使用的所有源文件生成的。

如果重新运行该构建而不更改任何内容，则生成的hash将保持不变。

如果仅编辑一个文件，则hash值就会发生变化，并且所有生成捆绑的名称中都会包含此新的hash。

### chunkhash

chunkhash是根据不同的入口进行依赖文件解析的，构建对应的chunk，生成对应的hash值.

从使用上来说：我们可以把一些公共库和程序入口文件分开来，单独打包构建，接着可以采用chunkhash方式来生成hash值，那么只要我们不改动公共库的代码，就可以保证其hash值不受影响，同时也能起到缓存的作用。

### contenthash

每个生成的文件名称都有一个唯一的hash值，改hash值是根据该文件的内容计算得出

当构建的文件发生变化时，就会生成新的hash值，且该问价你的改变并不会影响和它同一个模块下的其他文件。

### 总结

当我们使用了hash时，并不是每次都会生成新的hash，需要具体看哪种hash策略：

1. hash是跟整个项目的构建相关，只要项目里的文件有更改，整个项目构建的hash值就会改变，并且全部文件都公用相同的hash。**粒度是整个项目。**
2. chunkhash是根据不同的入口进行依赖文件解析，构建对应的chunk（模块），生成对应的hash值。只有被修改的chunk在重新构建之后才会生成新的hash值，不会影响其他的chunk。**粒度是entry入口。**
3. contenhash是跟每个生成的文件有关，每个文件都有一个唯一的hash值。当要构建的文件内容发生改变时，就会生成新的hash值，且该文件的改变并不会影响和它同一模块下的其他文件。**粒度是每个文件。**

